<head>
    <title>HappyChick - Detail des poules</title>
</head>

<body *ngIf="getSessionPoulailler()">
    <div id="header">
        <img src="../../assets/img/Header.png" width=100% height=100%>
    </div>
    <div id="center">
        <div id="menuleft">
            <recap-poulailler></recap-poulailler>
            <recap-poules ></recap-poules>
        </div>
        <div id="main">
            <div id="PouleList">
                <h1>Details des poules</h1>
                <div id="menuAffichagePoules">
                    <table>
                        <td>
                            Poules à afficher :
                        </td>
                        <br>
                        <td>
                            <select name="affichage">
                                <option value="Toutes">Toutes</option>
                                <option value="mortes">Mortes</option>
                                <option value="Vivantes">Vivantes</option>
                                <option value="Serieuses">Sérieuses</option>
                                <option value="Insouciantes">Insouciantes</option>
                                <option value="MamanPoules">Mamans Poules</option>
                                <option value="Psychopathes">Psychopathes</option>
                                <option value="Pyromanes">Pyromanes</option>
                                <option value="Poussins">Poussins</option>
                            </select>
                        </td>
                        <td>
                            Tri :
                        </td>
                        <td>
                            <select name="affichage">
                                <option value="id">Par Id</option>
                                <option value="AgeAsc">Par Age croissant</option>
                                <option value="AgeDesc">Par Age Descroissant</option>
                                <option value="PrenomAlph">par leur prénom</option>
                            </select>
                        </td>
                        <td>
                            <button type="button" id="afficherCouveuses" class="btnViolet">Afficher les poules
                                selectionées</button>
                        </td>
                    </table>
                    <br>
                </div>
                <div id="poulesIdentite" *ngFor="let poule of poules">
                    <div class="fiche">
                        <div>
                            <img *ngIf="!poule.poussin && poule.femelle"
                                src="../../assets/img/Poule{{poule.temperament.charAt(0).toUpperCase()+poule.temperament.substr(1).toLowerCase()}}.png"
                                width="auto" height=150>
                            <img *ngIf="poule.poussin" src="../../assets/img/poussin.png" width="auto" height=150>
                            <img *ngIf="!poule.femelle" src="../../assets/img/coq.png" width="auto" height=150>
                        </div>
                        <div class="informations">
                            <strong>{{poule.id}} - {{poule.prenom}}</strong>
                            <br>
                            <div *ngIf="!poule.poussin && poule.femelle">
                                <strong>Tempérament :</strong>
                                {{poule.temperament}}
                            </div>
                            <strong>Age :</strong>
                            {{poule.age}} ans
                            <br>
                            <div id="bonheur" *ngIf="!poule.poussin && poule.femelle">
                                <strong>Bonheur </strong>
                                ({{poule.bonheur}} %)
                                <div class="progress">
                                    <div class="progress-bar progress-bar-striped bg-infos" role="progressbar"
                                        [ngStyle]="{'width.%': poule.bonheur}" aria-valuenow="25" aria-valuemin="0"
                                        aria-valuemax="100">
                                    </div>
                                </div>
                            </div>
                            <strong>Etat :</strong>
                            {{poule.etat}}
                        </div>
                        <form>
                            <div class="form-row align-items-center" *ngIf="!poule.poussin && poule.femelle">
                                <label>Mettre la poule à couver ?</label>
                                <input type="number" class="form-control" name="nbOeufsCouves" value="0" min="0" max="8"
                                    step="1">
                                <button type="button" class="btn btn-primary">Valider</button>
                            </div>
                            <div class="form-group">
                                <button (click)="enVoyage(poule.id)" type="button" id="enVoyage"
                                    class="btn btn-warning">Envoyer en voyage (définitif)</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div id="menuright">
            <recap-utilisateur></recap-utilisateur>
            <menu></menu>
            <div id="recap">
                récap saison
            </div>
        </div>
    </div>
    <div id="footer">
        <img src="../../assets/img/footer.png" width=100% height=100%>
    </div>
</body>
<script type="text/javascript" src="js/gestion_oeufs.js"></script>
<script>
    afficherCouveuses.onclick = afficherCouv;
    function afficherCouv() {
        // couveusestable.style.display="contents"
        if (couveusestable.style.display == "none") {
            couveusestable.style.display = "contents";
            afficherCouveuses.innerHTML = "Cacher les poules selectionées";
        }
        else {
            couveusestable.style.display = "none";
            afficherCouveuses.innerHTML = "Afficher les poules selectionées";
        }
    }
</script>